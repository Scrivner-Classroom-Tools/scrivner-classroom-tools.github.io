<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <link rel="icon" href="Scrivner_Classroom_Tools_Logo_Circle.png" type="image/png">
    <title>Class Hub</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9; 
            color: #4a90e2;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        #menu {
            text-align: center;
        }
        #menu h1 {
            margin-bottom: 40px;
        }
        .game-button {
            font-size: 24px;
            margin: 20px;
            padding: 10px 20px;
            background-color: #4a90e2;
            color: #282c34;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .game-button:hover {
            background-color: #50a9c0;
        }
    </style>
</head>
<body>
    <div id="menu">
        <h1>Classroom Utilities</h1>
        <button class="game-button" onclick="navigateToFile('group')">Random Group Generator</button>
        <button class="game-button" onclick="navigateToFile('band')">Behavior Chart</button>
        <!-- <button class="game-button" onclick="navigateToGame('tetris')">Tetris</button>
        <button class="game-button" onclick="navigateToGame('brick-breaker')">Brick Breaker</button>
        <button class="game-button" onclick="navigateToGame('maze')">Maze</button>
        <button class="game-button" onclick="navigateToGame('stack')">Stack</button>
        <button class="game-button" onclick="navigateToihtasham42('progress-knight')">Progress Knight</button>
        <button class="game-button" onclick="navigateToG('server')">GG</button> -->

        <!-- Add more game buttons here -->
    </div>
    <div id="login">
        <h1>Supabase Google Login</h1>
    
    <button onclick="signInWithGoogle()">Sign in with Google</button>
    <button onclick="signOut()">Sign out</button>
    <p id="user-info"></p>

    <script>
        // Initialize Supabase
        const SUPABASE_URL = "https://dqkjwnvdqzukhzvdtidr.supabase.co";
        const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRxa2p3bnZkcXp1a2h6dmR0aWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5OTU4NjYsImV4cCI6MjA1NTU3MTg2Nn0.TCrjefgNWfi_YIPy-2PUBPBTPf5Dtn-DPQOVY3wV5RE";
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Google Sign-In
        async function signInWithGoogle() {
            const { error } = await supabase.auth.signInWithOAuth({
                provider: "google",
            });
            if (error) {
                console.error("Google sign-in error:", error.message);
            } else {
                console.log("Redirecting to Google...");
            }
        }

        // Check if user is logged in
        async function checkUser() {
            const { data: { user } } = await supabase.auth.getUser();
            if (user) {
                console.log("User logged in:", user);
                document.getElementById("user-info").innerText = `Welcome, ${user.email}`;
            } else {
                console.log("No user logged in.");
            }
        }

        // Sign out
        async function signOut() {
            await supabase.auth.signOut();
            console.log("User signed out");
            location.reload();
        }

        // Check if user is already logged in on page load
        checkUser();
    </script>
    </div>

    <script>
        function navigateToFile(fileName) {
            window.location.href = 'https://classroom.scrivner.xyz/classroom/' + fileName;
        }
    </script>
    <script>
        function navigateToihtasham42(siteName) {
            window.location.href = 'https://ihtasham42.github.io/' + siteName;
        }
    </script>
    <script>
        function navigateToG(gsiteName) {
            window.location.href = 'https://classroom.scrivner.xyz/goguardian/' + gsiteName;
        }
    </script>
</body>
</html>
